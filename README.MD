# Java AssertJ Workshop

The main goal of this project is to guide you to use AssertJ in your unit tests.
In the last section you can find instructions on how to locally build and run this microservice.

# Sample Contacts Microservice

In the `/contacts-service-parent` folder, there there is a parent Maven Project, along with 4 childs:

* [contacts-service-parent](contacts-service-parent)
  * [contacts-api](contacts-service-parent/contacts-api)
    Defines the DTOs (Data Transfer Objects) used to communicate with the Contacts Service.
  * [contacts-client](contacts-service-parent/contacts-client)
    Defines a Feign client to easily communicate with the Contacts Service for Java Developers.
  * [contacts-client-spring-boot-starter](contacts-service-parent/contacts-client-spring-boot-starter)
    Defines a ready-to-use Feign client for Java Developers using Spring Boot.
  * [contacts-service](contacts-service-parent/contacts-service)
    The actual microservice.


## JUnit vs AssertJ vs generated AssertJ assertions 

See all these points implemented in 
* contacts-service [test mapper folder](contacts-service-parent/contacts-service/src/test/java/com/github/erikrz/contacts/service/mapper).

## Local Development

### Prerequisites

* **Open JDK 17**

  You can install any version, i.e. [Amazon Coretto](https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/downloads-list.html).

* **Maven**

  You can use the embedded Maven binaries that your IDE offers, or you can install your own one.
  
### Building all the components

We use Maven as our build tool. Here is the [Maven Build Lifecycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html) for reference.

Maven goals commonly used in this project:

| Goals                               | Description                                                                                                                                                                                |
| ----------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `clean`                             | Removes all files generated by the previous build. Recommended to run first, before any build goal.                                                                                        |
| `versions:display-property-updates` | Scans the project and produces a report of those properties which are used to control artifact versions and which properties have newer versions available. Recommended to run standalone. |
| `compile`                           | Build goal to compile source code.                                                                                                                                                         |
| `test`                              | `compile` plus compile and run tests.                                                                                                                                                      |
| `package`                           | `test` plus package compiled code into a jar.                                                                                                                                              |
| `install`                           | `package` plus install in local maven repo for other local projects to reuse.                                                                                                              |

Sample maven command goal runs:

* `mvn clean test`
* `mvn clean install`
* `mvn versions:display-property-updates`

### Starting the Application

#### Locally

* Run `java -jar contacts-service/target/ContactsService.jar`
* Local swagger URL is available at [localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html)
